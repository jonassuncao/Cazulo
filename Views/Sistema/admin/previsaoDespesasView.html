<!--?php
    //Pega as variáveis para renderizar a página
    $valores = $this->getHTMLValores();       
?-->

<section class="content-header">
  <h1>
    Previsão de Despesas
  </h1>
</section>
<section class="content">
  

  <script type="text/javascript" src="Views/Sistema/admin/bower_components/eonasdan-bootstrap-datetimepicker/build/js/bootstrap-datetimepicker.min.js"></script>
  


<!--InputMask-->
<!--<script  src = "Cazulo/Views/Sistema/admin/bower_components/inputmask/dist/jquery.inputmask.bundle.js"></script>-->


<!--Bootstrap-Combobox-->
<script src ="Views/Sistema/admin/bower_components/bootstrap-combobox/js/bootstrap-combobox.js"></script>
<link rel = "stylesheet" href ="Views/Sistema/admin/bower_components/bootstrap-combobox/css/bootstrap-combobox.css">
  <script src ="Views/Sistema/admin/js/script_js.js"></script>
  


  <div class="box box-info">
    <div class="box-header with-border">

      <!--Calendario-->
      <div class="form-group calendar">
        <label>Date masks:</label>
        <!--Configuração-->
        <div class="config">
          <button type="button" class="btn btn-default" data-toggle="modal" data-target="#myConfig">
            <i class="glyphicon glyphicon-cog"></i>
          </button>
          <!-- Modal de config -->
          <div class="modal fade" id="myConfig" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
            <div class="modal-dialog" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <!--Botão para fechar tela Modal-->
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                  <h4 class="modal-title" id="myModalLabel">Configuração da Taxa de Condomínio</h4>
                </div><!--/.modal-header-->
                <div class="modal-body">
                  <form class="form-inline">
                    <input type="text" class="form-control">
                    <label>%</label> 
                  </form>
                </div><!--/.modal-body-->
                <div class="modal-footer">
                  <button type="button" class="btn btn-default" data-dismiss="modal">Fechar</button>
                  <button type="button" class="btn btn-primary">Salvar mudanças</button>
                </div><!--/.modal-footer-->
              </div><!--/.modal-content-->
            </div><!--/.modal-dialog-->
          </div><!--/.modal-->
        </div>
        <div class="input-group date">
          <input type="text" class="form-control" id="data">
          <div class="input-group-addon">
            <i class="fa fa-calendar" onclick="this.focus()"></i>
          </div>
        </div>
      </div>
          
      <!-- Botão para chamar tela Modal de seleção de despesas-->
      <button type="button" class="fa fa-plus btn bg-olive" data-toggle="modal" data-target="#myModal">
        Adicionar item
      </button>
      <!-- Modal -->
      <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <!--Botão para fechar tela Modal-->
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
              <h4 class="modal-title" id="myModalLabel">Despesas</h4>
            </div><!--/.modal-header-->
            <div class="modal-body">
              <form class="form-inline">
                <div class="form-group">
                  <select class="combobox form-control" style="display: none;" id="combo">
                    <option value="" selected="selected">Selecione sua despesa</option>
                    <option value="Água">Água</option>
                    <option value="Adm. Condominio">Adm. Condominio</option>
                    <option value="Eletricidade">Eletricidade</option>
                    <option value="Segurança">Segurança</option>
                    <option value="Manutenção Elevador">Manutenção Elevador</option>
                  </select>
                  <label id="vl">Valor</label>
                  <input id="valor">
                </div>
              </form>
              <label>Descrição</label>
              <input id="descricao">     
            </div><!--/.modal-body-->
            <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal">Fechar</button>
              <button type="button" class="btn btn-primary" id="bot">Salvar mudanças</button>
            </div><!--/.modal-footer-->
          </div><!--/.modal-content-->
        </div><!--/modal-dialog-->
      </div>
    </div><!-- /.box-header -->


    <!--Tabela-->
    <div class="box-body">
      <div class="table-responsive">
        <table class="table table-striped no-margin">
          <thead>
            <tr>
              <th>#</th>
               <th>Despesa</th>
               <th>Valor</th>
               <th>Descrição</th>
               <th></th>
            </tr> 
          </thead>
          <tbody id="bodyTable">
          </tbody>
        </table><!-- /.table .table-striped -->       
      </div><!-- /.table-responsive -->
    </div><!-- /.box-body -->
  </div><!-- /.box -->

</section>

<script>
//mascara inputmask, ERRO= não muda dinamicamente quando add outros
$(document).ready(function() {
    $("#valor").inputmask({
    'alias': 'decimal',
    'groupSeparator': '',
    'digits': 2,
    'autoGroup': true,
    'digitsOptional': false,
    rightAlign: true,
    numericInput: true 
    }); 
    
    //valor invalido na mascara
    Inputmask.extendDefaults({
      onKeyValidation: function(key, result){
          if (!result)alert('Valor inválido');
      }
      });

       $('.combobox').combobox();
  });   

  
</script>